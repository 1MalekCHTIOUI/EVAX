(this.webpackJsonpevax=this.webpackJsonpevax||[]).push([[0],{24:function(e,t,a){e.exports={colornav:"style_colornav__vfH7v",mainFooter:"style_mainFooter__4GBTq",white:"style_white__2USjo",form:"style_form__1CtqJ",homeBackground:"style_homeBackground__21G4f",displayNone:"style_displayNone__1BXxe",block:"style_block__1fDoH",centerContent:"style_centerContent__1JWqo",showInfo:"style_showInfo__1iXu2",fade:"style_fade__3_vdL",p:"style_p__kGSuD",userBack:"style_userBack__1i1Ed",userImage:"style_userImage__3vEpj"}},37:function(e,t){function a(e){var t=0;return e.forEach((function(e){t++})),t}function s(e){var t=11e6;return e.forEach((function(e){t--})),t}e.exports={countVaccinated:a,patientsVaccinatedPerNon:function(e){return 100*a(e)/s(e)},countNonVaccinated:s,countAccepted:function(e){var t=0;return e.forEach((function(e){null!=e.call_date&&t++})),t},countPending:function(e){var t=0;return e.forEach((function(e){null==e.call_date&&t++})),t},countRegistered:function(e){return parseInt(e.length)},getNextDayOfTheWeek:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+8)},showTime:function e(){var t=new Date,a=t.getHours(),s=t.getMinutes(),n=t.getSeconds(),c="AM";0==a&&(a=12),a>12&&(a-=12,c="PM");var r=(a=a<10?"0"+a:a)+":"+(s=s<10?"0"+s:s)+":"+(n=n<10?"0"+n:n)+" "+c;document.getElementById("time").innerText=r,document.getElementById("time").textContent=r,setTimeout(e,1e3)}}},711:function(e,t,a){},841:function(e,t){},843:function(e,t){},855:function(e,t){},857:function(e,t){},885:function(e,t){},887:function(e,t){},888:function(e,t){},893:function(e,t){},895:function(e,t){},901:function(e,t){},903:function(e,t){},922:function(e,t){},934:function(e,t){},937:function(e,t){},955:function(e,t,a){},956:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a.n(s),c=a(35),r=a.n(c),i=a(7),o=a(8),l=a(11),d=a(10),h=a(28),j=(a(382),a(383),a(384),a(82),a(960)),b=a(18),m=(a(978),a(979),a(1));var u="FETCH_POSTS",p="NEW_POST",O="DELETE_ITEM",f="EDIT_PATIENT",x="UPDATE_PATIENT",g="USER_LOADING",v="USER_LOADED",y="AUTH_ERROR",N="LOGIN_SUCCESS",w="LOGIN_FAIL",C="LOGOUT_SUCCESS",_="REGISTER_SUCCESS",S="REGISTER_FAIL",D="GET_ERRORS",k="CLEAR_ERRORS",E="CLICK_OPEN_MENU",T="POST_ERROR",A=a(23),I=a.n(A),P=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:D,payload:{msg:e,status:t,id:a}}},R=function(){return{type:k}},M=function(){return function(e){fetch("http://localhost:4000/dashboard/").then((function(e){return e.json()})).then((function(t){e({type:u,payload:t})}))}},B=a(24),L=a.n(B),V=a(20),F=a(37),U=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:L.a.homeBackground,style:{height:"90vh"},children:Object(m.jsxs)(j.a,{style:{paddingTop:"5vh",background:"rgb(0,0,0,0.8)",color:"white",height:"100%"},children:[Object(m.jsx)("h1",{className:L.a.showInfo,children:"Bienvenu Sur EVAX"}),Object(m.jsxs)(j.a,{className:L.a.showInfo,children:[Object(m.jsx)(j.a,{style:{padding:"2%"},children:Object(m.jsx)(b.b,{to:"/enroll",children:Object(m.jsx)("button",{className:"btn btn-danger",children:"Commence La Vaccination"})})}),Object(m.jsx)(j.a,{style:{padding:"2%"},children:Object(m.jsx)(b.b,{to:"/verify",children:Object(m.jsx)("button",{className:"btn btn-danger",children:"Status de Rendez-vous"})})}),Object(m.jsx)("h5",{children:"Statistiques: "}),Object(m.jsx)(j.a,{className:L.a.block,style:{width:"50%"},children:Object(m.jsxs)("p",{children:["Personnes Inscrites: \xa0",Object(m.jsx)("b",{children:Object(F.countRegistered)(this.props.posts)})]})}),Object(m.jsx)("hr",{style:{width:"20vw",background:"gray"}}),Object(m.jsx)(j.a,{className:L.a.block,style:{width:"50%"},children:Object(m.jsxs)("p",{children:["Personnes accept\xe9es: \xa0",Object(m.jsx)("b",{children:Object(F.countAccepted)(this.props.posts)})]})}),Object(m.jsx)("hr",{style:{width:"10vw",background:"gray"}}),Object(m.jsx)(j.a,{className:L.a.block,style:{width:"50%"},children:Object(m.jsxs)("p",{children:["Personnes en attente: \xa0",Object(m.jsx)("b",{children:Object(F.countPending)(this.props.posts)})]})})]})]})})})}}]),a}(s.Component),G=Object(V.b)((function(e){return{posts:e.posts.items}}),{fetchPosts:M})(U),H=(a(407),a(970)),z=a(971),X=a(972),Y=a(973),q=a(974),J=a(16),W=a(961),K=a(980),$=a(962),Q=a(963),Z=a(964),ee=a(965),te=a(966),ae=a(967),se=a(968),ne=a(969),ce=function(e){var t=e.first_name,a=e.last_name,s=e.email,n=e.password;return function(e){var c=JSON.stringify({first_name:t,last_name:a,email:s,password:n});I.a.post("http://localhost:4000/users/signup",c,{headers:{"content-type":"application/json"}}).then((function(t){return e({type:_,payload:t.data})})).then((function(){window.location.pathname="/dashboard"})).catch((function(t){e(P(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:S})}))}},re=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={modal:!1,name:"",email:"",password:"",msg:null},e.toggle=function(){e.props.clearErrors(),e.setState({modal:!e.state.modal})},e.onChange=function(t){e.setState(Object(J.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,s={name:a.name,email:a.email,password:a.password};e.props.register(s)},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("REGISTER_FAIL"===t.id?this.setState({msg:t.msg.msg}):this.setState({msg:null}))}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(W.a,{onClick:this.toggle,href:"#",style:{background:"rgb(0,0,0,0.1)"},children:Object(m.jsx)("h5",{children:Object(m.jsx)("b",{children:"Register"})})}),Object(m.jsxs)(K.a,{isOpen:this.state.modal,toggle:this.toggle,children:[Object(m.jsx)($.a,{toggle:this.toggle,children:"Register"}),Object(m.jsxs)(Q.a,{children:[this.state.msg?Object(m.jsx)(Z.a,{color:"danger",children:this.state.msg}):null,Object(m.jsx)(ee.a,{onSubmit:this.onSubmit,children:Object(m.jsxs)(te.a,{children:[Object(m.jsx)(ae.a,{for:"name",children:"Name"}),Object(m.jsx)(se.a,{type:"text",name:"name",id:"name",placeholder:"Name",className:"mb-3",onChange:this.onChange}),Object(m.jsx)(ae.a,{for:"email",children:"Email"}),Object(m.jsx)(se.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",onChange:this.onChange}),Object(m.jsx)(ae.a,{for:"password",children:"Password"}),Object(m.jsx)(se.a,{type:"password",name:"password",id:"password",placeholder:"Password",className:"mb-3",onChange:this.onChange}),Object(m.jsx)(ne.a,{color:"primary",style:{marginTop:"2rem"},block:!0,children:"Register"})]})})]})]})]})}}]),a}(s.Component),ie=(Object(V.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{register:ce,clearErrors:R})(re),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",msg:null},e.onChange=function(t){e.setState(Object(J.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,s={email:a.email,password:a.password};e.props.login(s)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("LOGIN_FAIL"===t.id?this.setState({msg:t.msg.msg}):this.setState({msg:null}))}},{key:"render",value:function(){return!1!==this.props.auth.isAuthenticated?Object(m.jsx)("div",{className:"container",style:{height:"83.6vh"},children:Object(m.jsx)("div",{className:"row justify-content-center",children:Object(m.jsx)("div",{className:"col-xl-10 col-lg-12 col-md-9",children:Object(m.jsx)("div",{className:"card o-hidden border-0 shadow-lg my-5",children:Object(m.jsx)("div",{className:"card-body p-0",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-3"}),Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsx)("div",{className:"p-5",children:Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)("h1",{className:"h4 text-gray-900 mb-4",children:"Vous \xeates actuellement connect\xe9"})})})})]})})})})})}):Object(m.jsx)("div",{className:"container",style:{height:"83.6vh"},children:Object(m.jsx)("div",{className:"row justify-content-center",children:Object(m.jsx)("div",{className:"col-xl-10 col-lg-12 col-md-9",children:Object(m.jsx)("div",{className:"card o-hidden border-0 shadow-lg my-5",children:Object(m.jsx)("div",{className:"card-body p-0",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-3"}),Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsxs)("div",{className:"p-5",children:[Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h1",{className:"h4 text-gray-900 mb-4",children:"Bienvenu!"}),this.state.msg?Object(m.jsx)(Z.a,{color:"danger",children:this.state.msg}):null]}),Object(m.jsxs)("form",{onSubmit:this.onSubmit,className:"user",children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"email",name:"email",className:"form-control form-control-user",id:"email","aria-describedby":"emailHelp",placeholder:"Email",onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"password",name:"password",className:"form-control form-control-user",id:"password",placeholder:"Mot de passe",onChange:this.onChange})}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary btn-user btn-block",children:"Connecter"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("a",{href:"http://www.gmail.com",className:"btn btn-google btn-user btn-block",children:[Object(m.jsx)("i",{className:"fa fa-google fa-fw"})," Connectez-vous avec Google"]}),Object(m.jsxs)("a",{href:"http://www.facebook.com",className:"btn btn-facebook btn-user btn-block",children:[Object(m.jsx)("i",{className:"fa fa-facebook-f fa-fw"})," Connectez-vous avec Facebook"]})]}),Object(m.jsx)("hr",{})]})})]})})})})})})}}]),a}(s.Component)),oe=Object(V.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error,auth:e.auth}}),{login:function(e){var t=e.email,a=e.password;return function(e){var s=JSON.stringify({email:t,password:a});I.a.post("http://localhost:4000/auth/signin",s,{headers:{"content-type":"application/json"}}).then((function(t){return e({type:N,payload:t.data})})).then((function(){window.location.pathname="/"})).catch((function(t){e(P(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:w})}))}},clearErrors:R})(ie),le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsxs)(b.b,{className:this.props.className,onClick:this.props.logout,href:"#",children:[this.props.icon,"D\xe9connecter"]})}}]),a}(s.Component),de=Object(V.b)(null,{logout:function(){return window.location.pathname="/",{type:C}}})(le),he=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={sameIp:!0,ip:""},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)(H.a,{children:Object(m.jsx)("span",{className:"navbar-text mr-3",children:Object(m.jsx)("strong",{children:a?"Bienvenu ".concat(a.first_name):""})})}),Object(m.jsx)(H.a,{children:Object(m.jsx)(de,{className:"nav-link"})})]}),c=this.state.sameIp?Object(m.jsx)(s.Fragment,{children:Object(m.jsx)(H.a,{children:Object(m.jsx)(b.b,{to:"/signin",children:Object(m.jsxs)("button",{className:"btn btn-primary",children:["Connecter-vous ",Object(m.jsx)("i",{class:"fa fa-sign-in","aria-hidden":"true"})]})})})}):"";return Object(m.jsx)("div",{children:Object(m.jsxs)(z.a,{dark:!0,className:L.a.colornav,expand:"lg",style:{boxShadow:"0 5px 6px -6px black"},children:[Object(m.jsx)(X.a,{href:"/",children:"EVAX"}),Object(m.jsx)(Y.a,{}),t?Object(m.jsxs)(H.a,{children:[Object(m.jsx)("i",{class:"fa fa-circle","aria-hidden":"true"})," ",Object(m.jsx)(b.b,{to:"/dashboard",style:{textDecoration:"none",color:"gray"},children:" Dashboard"})]}):"",Object(m.jsx)(q.a,{className:"ml-auto",navbar:!0,children:t?n:c})]})})}}]),a}(s.Component),je=Object(V.b)((function(e){return{auth:e.auth}}),null)(he),be=a(32),me=a(26),ue=(a(239),[{name:"Bone Cancer",abbr:"BoC",code:"269466003",system:"SNOMED_CT"},{name:"Brain Cancer",abbr:"BrC",code:"1000000",system:"SNOMED_CT"},{name:"Clotting Disorder",abbr:"ClD",code:"4779008",system:"SNOMED_CT"},{name:"Deep Vein Thrombosis (DVT)",abbr:"DVT",code:"128053003",system:"SNOMED_CT"},{name:"Dementia/Alzheimer's",abbr:"Alz",code:"26929004",system:"SNOMED_CT"},{name:"Diabetes",abbr:"DIAB",code:"73211009",system:"SNOMED_CT"},{name:"Gestational Diabetes",abbr:"Gest",code:"11687002",system:"SNOMED_CT"},{name:"Colon Polyp",abbr:"GI",code:"68496003",system:"SNOMED_CT"},{name:"Crohn's Disease",abbr:"Crd",code:"34000006",system:"SNOMED_CT"},{name:"Angina",abbr:"AP",code:"194828000",system:"SNOMED_CT"},{name:"Coronary Artery Disease",abbr:"CAD",code:"53741008",system:"SNOMED_CT"},{name:"High Cholesterol",abbr:"HCH",code:"55822004",system:"SNOMED_CT"},{name:"Hypertension",abbr:"HYP",code:"38341003",system:"SNOMED_CT"},{name:"Cystic Kidney Disease",abbr:"CKD",code:"236439005",system:"SNOMED_CT"},{name:"Diabetic Kidney Disease",abbr:"DkD",code:"127013003",system:"SNOMED_CT"},{name:"Asthma",abbr:"Ast",code:"195967001",system:"SNOMED_CT"},{name:"COPD",abbr:"LD",code:"13645005",system:"SNOMED_CT"},{name:"Osteoporosis",abbr:"OST",code:"64859006",system:"SNOMED_CT"},{name:"Anxiety",abbr:"Anx",code:"197480006",system:"SNOMED_CT"},{name:"Attention Deficit Disorder-Hyperactivity",abbr:"ADHA",code:"406506008",system:"SNOMED_CT"},{name:"Septicemia",abbr:"Sept",code:"105592009",system:"SNOMED_CT"},{name:"Stroke/Brain Attack",abbr:"SBA",code:"116288000",system:"SNOMED_CT"},{name:"Sudden Infant Death Syndrome",abbr:"SIDS",code:"51178009",system:"SNOMED_CT"},{name:"Unknown Disease",abbr:"HD",code:"315645005",system:"SNOMED_CT"}]),pe=a(975),Oe=function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.ill.name}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{type:"checkbox",name:"ills",class:"form-check-input",value:e.ill.name,onChange:e.change})})]})},fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).onChange=function(e){s.setState(Object(J.a)({},e.target.name,e.target.value))},s.onChangeIlls=function(e){var t=e.target,a=t.checked,n=t.value;a?s.setState((function(e){var t=e.ills;return{ills:[].concat(Object(be.a)(t),[n])}})):s.setState((function(e){return{ills:e.ills.filter((function(e){return e!==n}))}}))},s.onSubmit=s.onSubmit.bind(Object(me.a)(s)),s.onChange=s.onChange.bind(Object(me.a)(s)),s.state={cin:null,first_name:"",last_name:"",date_nais:"",address:"",email:"",ills:[],nextDate:Object(F.getNextDayOfTheWeek)("thursday",!1),status:!1,prioritiesTable:[],tableOfTenOrBelow:[],msg:null,err:null},s}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("POST_ERROR"===t.id?this.setState({msg:t.msg}):this.setState({msg:null}))}},{key:"componentDidMount",value:function(){var e=this;(new Date).toDateString().substr(0,3);I.a.get("http://localhost:4000/enroll/").then((function(t){return t.data.map((function(t){e.setState({date_nais:t.date_nais,prioritiesTable:e.state.prioritiesTable.concat({cin:t.cin,priority:t.priority,status:t.status.stats}).sort((function(e,t){return e.priority-t.priority}))})}))}))}},{key:"onSubmit",value:function(e){e.preventDefault();this.props.posts;var t=this.state.date_nais.substr(0,4),a=this.state.date_nais.substr(5,2),s=this.state.date_nais.substr(8,2),n=new Date(this.state.date_nais),c=Number((new Date).getFullYear()-n.getFullYear()),r=Number(c+n.getMonth()+1),i=(Number(t),Number(a),Number(s),{cin:this.state.cin,first_name:this.state.first_name,last_name:this.state.last_name,date_nais:this.state.date_nais,address:this.state.address,email:this.state.email,ills:this.state.ills,priority:this.state.ills.length>0?Number(r+this.state.ills.length):r});this.props.createPatient(i)}},{key:"illsList",value:function(){var e=this;return ue.map((function(t,a){return Object(m.jsx)(Oe,{ill:t,change:e.onChangeIlls},a)}))}},{key:"infoList",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["CIN: ",Object(m.jsx)("b",{children:this.state.cin})]}),Object(m.jsxs)("p",{children:["Nom: ",Object(m.jsx)("b",{children:this.state.first_name})]}),Object(m.jsxs)("p",{children:["Prenom: ",Object(m.jsx)("b",{children:this.state.last_name})]}),Object(m.jsxs)("p",{children:["Date de naissance: ",Object(m.jsx)("b",{children:new Date(this.state.date_nais).toDateString()})]}),Object(m.jsxs)("p",{children:["Adresse: ",Object(m.jsx)("b",{children:this.state.address})]}),Object(m.jsxs)("p",{children:["Email: ",Object(m.jsx)("b",{children:this.state.email})]}),this.state.ills.length>0?Object(m.jsxs)("table",{className:"table table-striped",children:[Object(m.jsx)("thead",{style:{background:"rgb(206, 204, 204)"},children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{children:"Maladie"})})}),Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:this.state.ills.map((function(e,t){return Object(m.jsx)("p",{children:e})}))})})})]}):""]})}},{key:"render",value:function(){var e,t;return Object(m.jsx)("div",(t={className:"container-fluid"},Object(J.a)(t,"className",L.a.form),Object(J.a)(t,"children",Object(m.jsxs)("div",{className:"row",style:{paddingTop:"5vh"},children:[Object(m.jsx)("div",{className:"col-sm-2"}),Object(m.jsxs)("div",{className:"col",children:[Object(m.jsxs)("h2",{children:["Commencer l'Inscription au Vaccin Aujourd'hui ",Object(m.jsx)("i",{class:"fa fa-clock-o","aria-hidden":"true"})," "]}),Object(m.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(m.jsxs)("div",{children:[this.state.msg?Object(m.jsx)(Z.a,{color:"danger",children:this.state.msg}):null,this.state.err?Object(m.jsx)(Z.a,{color:"danger",children:this.state.err}):null]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Carte d'Identit\xe9 National: "}),Object(m.jsx)("input",{type:"number",name:"cin",className:"form-control",value:this.state.cin,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Nom: "}),Object(m.jsx)("input",{type:"text",name:"last_name",className:"form-control",value:this.state.last_name,onChange:this.onChange})]})}),Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Pr\xe9nom : "}),Object(m.jsx)("input",{type:"text",name:"first_name",className:"form-control",value:this.state.first_name,onChange:this.onChange})]})})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Date de Naissance: "}),Object(m.jsx)("input",{type:"date",name:"date_nais",className:"form-control",value:this.state.date_nais,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Adresse: "}),Object(m.jsx)("input",{type:"text",name:"address",className:"form-control",value:this.state.address,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"E-mail: "}),Object(m.jsx)("input",{type:"email",name:"email",className:"form-control",value:this.state.email,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",style:{marginTop:"6vh"},children:[Object(m.jsx)("input",{style:{cursor:"pointer"},type:"text",readOnly:!0,className:"form-control",placeholder:"S'ill vous plait v\xe9rifier si vous avez les maladie suivants: ","data-toggle":"collapse",href:"#multiCollapseExample1"}),Object(m.jsx)(pe.a,(e={className:"form-control"},Object(J.a)(e,"className","collapse"),Object(J.a)(e,"id","multiCollapseExample1"),Object(J.a)(e,"style",{background:"rgb(0,0,0,0.7)",color:"rgb(255,255,255)",borderRadius:"5px"}),Object(J.a)(e,"children",Object(m.jsx)("tbody",{children:this.illsList()})),e))]}),Object(m.jsx)("button",{style:{width:"100%",marginTop:"4vh",marginBottom:"8vh"},type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal",children:"Envoyer"}),Object(m.jsx)("div",{className:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(m.jsx)("div",{className:"modal-dialog",role:"document",style:{color:"black"},children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsx)("div",{className:"modal-header",children:Object(m.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Confirmer votre Information: "})}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsx)("div",{className:"form-group",children:this.infoList()})}),Object(m.jsxs)("div",{className:"modal-footer",children:[Object(m.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Fermer"}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Confirmer"})]})]})})})]})]}),Object(m.jsx)("div",{className:"col-sm-2"})]})),t))}}]),a}(s.Component),xe=Object(V.b)((function(e){return{posts:e.posts.item,error:e.error}}),{createPatient:function(e){return function(t){console.log(e.cin);var a=!0;""===e.first_name||""==e.cin||""===e.last_name||""===e.date_nais||""===e.email||""===e.address||""===e.cin?(t(P("Les champs sont vides",401,"POST_ERROR")),t({type:T})):(I.a.get("http://localhost:4000/enroll/").then((function(t){t.data.map((function(t){""!=t.email&&t.email===e.email&&(a=!1)}))})),I.a.get("http://localhost:4000/enroll/find/"+e.cin).then((function(s){0===s.data.length?8!=e.cin.length?(t(P("CIN doit etre 8 characters",401,"POST_ERROR")),t({type:T})):!1===a?(t(P("Email d\xe9ja utiliser",401,"POST_ERROR")),t({type:T})):fetch("http://localhost:4000/enroll/add",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return t({type:p,payload:e})})).then((function(e){window.location.pathname="/"})).catch((function(e){t(P(e.response.data,e.response.status,"REGISTER_FAIL")),t({type:T})})):(t(P("Vous \xeates d\xe9j\xe0 inscrit",401,"POST_ERROR")),t({type:T}))})))}},clearErrors:R})(fe),ge=(s.Component,a(976)),ve=function(e){return Object(m.jsx)("div",{style:{position:"relative",color:"white",background:"black",borderRadius:"4px"},className:L.a.showInfo,children:Object(m.jsxs)("div",{className:L.a.p,style:{padding:"8px",marginTop:"3rem"},children:[Object(m.jsxs)("table",{className:"table",style:{color:"white"},children:[Object(m.jsxs)("thead",{children:[Object(m.jsx)("th",{children:"Carte d'Identit\xe9 National"}),Object(m.jsx)("th",{children:"Nom et Pr\xe9nom"}),Object(m.jsx)("th",{children:"Statut de Votre Vaccine"})]}),Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.info.cin}),Object(m.jsxs)("td",{children:[e.info.last_name.toUpperCase()," ",e.info.first_name]}),Object(m.jsx)("td",{children:e.info.status.stats?" Accept\xe9 Votre Rendez-vous est on: ".concat(new Date(e.info.call_date).toDateString()):"En attente"})]})})]}),Object(m.jsx)("hr",{style:{background:"gray",borderRadius:"5px"}}),Object(m.jsxs)(b.b,{to:"/",style:{textDecoration:"none",color:"#00fce7"},children:["Page d'acceuil ",Object(m.jsx)("i",{class:"fa fa-arrow-circle-left","aria-hidden":"true"})]})]})})},ye=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={cin:"",userByCin:[],verificationCode:"",submited:!1,correctCode:!1,enteredCode:"",msg:null},e.onChange=e.onChange.bind(Object(me.a)(e)),e.onSubmit=e.onSubmit.bind(Object(me.a)(e)),e.onSubmitCode=e.onSubmitCode.bind(Object(me.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"componentWillReceiveProps",value:function(e){e.newPost&&this.props.posts.unshift(e.newPost)}},{key:"onChange",value:function(e){this.setState(Object(J.a)({},e.target.name,e.target.value))}},{key:"onSubmitCode",value:function(e){e.preventDefault(),console.log(Number(this.state.verificationCode)),Number(this.state.verificationCode)===Number(this.state.enteredCode)?this.setState({correctCode:!0}):this.setState({correctCode:!1})}},{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.setState({msg:null}),""!=this.state.cin){var a=Math.floor(1e6*Math.random()),s={code:a};this.setState({cinExists:!1,verificationCode:a}),I.a.get("http://localhost:4000/enroll/"+this.state.cin).then((function(e){console.log(e.status),200===e.status&&(t.setState({userByCin:e.data,submited:!0}),I.a.post("http://localhost:4000/sendmail/"+e.data.map((function(e){return e.email})),s).then((function(e){return console.log(e.status)})))})).catch((function(e){return t.setState({msg:e.response.data.msg})}))}}},{key:"renderElement",value:function(){return document.getElementById("verif").setAttribute("hidden",""),this.state.userByCin.map((function(e){return Object(m.jsx)(ve,{info:e},e.cin)}))}},{key:"render",value:function(){return console.log(this.state.msg),Object(m.jsx)("div",{className:L.a.homeBackground,children:Object(m.jsxs)(ge.a,{style:{paddingTop:"5vh",background:"rgb(0,0,0,0.8)",color:"white",height:"100%"},children:[Object(m.jsx)("h1",{className:L.a.showInfo,children:"Bienvenu Sur EVAX"}),Object(m.jsx)("h5",{className:L.a.showInfo,children:"V\xe9rifier Votre Date"}),this.state.msg?Object(m.jsx)(Z.a,{color:"danger",style:{position:"absolute",width:"30%",left:"35%",top:"25%"},children:this.state.msg}):"",Object(m.jsxs)("form",{className:"form-inline",onSubmit:this.onSubmit,style:{height:"74vh",display:"flex",justifyContent:"center"},children:[Object(m.jsx)("div",{className:"form-group mb-2",children:Object(m.jsx)("input",{name:"cin",className:"form-control",value:this.state.cin,onChange:this.onChange,placeholder:"Entrer Votre N\xb0 CIN"})}),Object(m.jsx)("button",{type:"submit",style:{marginLeft:"1vh"},className:"btn btn-danger mb-2",children:"V\xe9rifier Identit\xe9"}),this.state.submited&&null===this.state.msg?Object(m.jsxs)("div",{className:L.a.showInfo,id:"verif",style:{width:"80vw",position:"relative",top:"-10vh"},children:[Object(m.jsx)("label",{children:"SVP Entre le code de verification"}),Object(m.jsx)("input",{type:"text",className:"form-control",name:"enteredCode",value:this.state.enteredCode,onChange:this.onChange}),Object(m.jsx)("button",{className:"btn btn-success",onClick:this.onSubmitCode,children:"V\xe9rifier"})]}):"",Object(m.jsx)(ge.a,{children:this.state.correctCode?this.renderElement():""})]})]})})}}]),a}(s.Component),Ne=Object(V.b)((function(e){return{posts:e.posts.items}}),{fetchPosts:M})(ye),we=a(65),Ce=a(371),_e=a(19),Se={items:[],item:{}},De={msg:{},status:null,id:null},ke={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},Ee={menuOpen:!1},Te=Object(we.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(_e.a)(Object(_e.a)({},e),{},{items:t.payload});case p:return Object(_e.a)(Object(_e.a)({},e),{},{item:t.payload});case O:return Object(_e.a)(Object(_e.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.payload}))});case f:return e.map((function(e){return e.id===t.id?Object(_e.a)(Object(_e.a)({},e),t.payload):e}));case T:return Object(_e.a)({},e);case x:return Object(_e.a)(Object(_e.a)({},e),{},{item:t.payload});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case k:return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(_e.a)(Object(_e.a)({},e),{},{isLoading:!0});case v:return Object(_e.a)(Object(_e.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case N:return localStorage.setItem("token",t.payload.token),Object(_e.a)(Object(_e.a)(Object(_e.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case _:return Object(_e.a)(Object(_e.a)(Object(_e.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case y:case w:case C:case S:return localStorage.removeItem("token"),Object(_e.a)(Object(_e.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},menuState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(_e.a)(Object(_e.a)({},e),{},{menuOpen:!e.menuOpen});default:return e}}}),Ae=[Ce.a],Ie=Object(we.e)(Te,{},Object(we.d)(we.a.apply(void 0,Ae),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Pe=(a(711),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={first_name:"",last_name:"",email:"",password:"",msg:null},e.onChange=function(t){e.setState(Object(J.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,s={first_name:a.first_name,last_name:a.last_name,email:a.email,password:a.password};e.props.register(s)},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("No Authorization"===t.msg.msg&&(window.location.pathname="/"),"REGISTER_FAIL"===t.id?this.setState({msg:t.msg.msg}):this.setState({msg:null}))}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"container",style:{height:"83.6vh"},children:Object(m.jsx)("div",{className:"card o-hidden border-0 shadow-lg my-5",children:Object(m.jsx)("div",{className:"card-body p-0",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-lg-3 d-none d-lg-block"}),Object(m.jsx)("div",{className:"col-lg-6",children:Object(m.jsxs)("div",{className:"p-5",children:[Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h1",{className:"h4 text-gray-900 mb-4",children:"Cr\xe9er un compte!"}),this.state.msg?Object(m.jsx)(Z.a,{color:"danger",children:this.state.msg}):null]}),Object(m.jsxs)("form",{className:"user",onSubmit:this.onSubmit,children:[Object(m.jsxs)("div",{className:"form-group row",children:[Object(m.jsx)("div",{className:"col-sm-6 mb-3 mb-sm-0",children:Object(m.jsx)("input",{type:"text",name:"last_name",id:"last_name",className:"form-control form-control-user",onChange:this.onChange,placeholder:"Nom"})}),Object(m.jsx)("div",{className:"col-sm-6",children:Object(m.jsx)("input",{type:"text",name:"first_name",id:"first_name",className:"form-control form-control-user",onChange:this.onChange,placeholder:"Pr\xe9nom"})})]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control form-control-user",onChange:this.onChange,placeholder:"Adresse E-mail"})}),Object(m.jsx)("div",{className:"form-group row",children:Object(m.jsx)("div",{className:"col-sm-6 mb-3 mb-sm-0",children:Object(m.jsx)("input",{type:"password",name:"password",id:"password",className:"form-control form-control-user",onChange:this.onChange,placeholder:"Mot de passe"})})}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary btn-user btn-block",children:"Cr\xe9er compte"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("a",{href:"http://www.gmail.com",className:"btn btn-google btn-user btn-block",children:[Object(m.jsx)("i",{className:"fa fa-google fa-fw"})," Cr\xe9e un compte avec Google"]}),Object(m.jsxs)("a",{href:"http://www.facebook.com",className:"btn btn-facebook btn-user btn-block",children:[Object(m.jsx)("i",{className:"fa fa-facebook-f fa-fw"})," Cr\xe9e un compte ave Facebook"]})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(b.b,{className:"small",to:"/signin",children:"Vous avez d\xe9j\xe0 un compte? Connecter!"})})]})})]})})})})}}]),a}(s.Component)),Re=Object(V.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{register:ce,clearErrors:R})(Pe),Me=function(e){return{type:E,newValue:e}},Be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){Object(F.showTime)()}},{key:"render",value:function(){var e=this.props,t=e.clickMenuOpen,a=e.toggled;return Object(m.jsxs)("ul",{className:a?"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion toggled":"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar",children:[Object(m.jsxs)("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"/",children:[Object(m.jsx)("div",{className:"sidebar-brand-icon rotate-n-15",children:Object(m.jsx)("i",{className:"fa fa-laugh-wink"})}),Object(m.jsx)("div",{className:"sidebar-brand-text mx-5",children:"EVAX"})]}),Object(m.jsx)("hr",{className:"sidebar-divider my-0"}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsxs)(b.b,{className:"nav-link",to:"/dashboard",children:[Object(m.jsx)("i",{className:"fa fa-fw fa-tachometer-alt"}),Object(m.jsx)("span",{children:"Dashboard"})]})}),Object(m.jsx)("hr",{className:"sidebar-divider"}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(b.b,{className:"nav-link",style:{cursor:"default"},children:Object(m.jsxs)("span",{style:{display:"inline"},children:["Temps Serveur:",Object(m.jsx)("div",{id:"time"})]})})}),Object(m.jsx)("hr",{className:"sidebar-divider"}),Object(m.jsx)("div",{className:"text-center d-none d-md-inline",children:Object(m.jsx)("button",{onClick:function(){t()},className:"btn btn-primary border-0",id:"sidebarToggle"})})]})}}]),a}(s.Component),Le=Object(V.b)((function(e){return{toggled:e.menuState.menuOpen}}),(function(e){return Object(we.b)({clickMenuOpen:Me},e)}))(Be),Ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.auth.user;return Object(m.jsxs)("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow",children:[Object(m.jsx)("button",{onClick:function(){Me()},id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3",children:Object(m.jsx)("i",{className:"fa fa-bars"})}),Object(m.jsx)("form",{className:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search",children:Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),Object(m.jsx)("div",{className:"input-group-append",children:Object(m.jsx)("button",{className:"btn btn-primary",type:"button",children:Object(m.jsx)("i",{className:"fa fa-search fa-sm"})})})]})}),Object(m.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(m.jsx)("li",{className:"nav-item dropdown no-arrow d-sm-none",children:Object(m.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(m.jsx)("i",{className:"fa fa-search fa-fw"})})}),Object(m.jsxs)("li",{className:"nav-item dropdown no-arrow",children:[Object(m.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(m.jsxs)("span",{className:"mr-2 d-none d-lg-inline text-gray-600 meduim",children:[e?"Bienvenu, ".concat(e.last_name," ").concat(e.first_name):""," ",Object(m.jsx)("i",{class:"fa fa-arrow-circle-o-down","aria-hidden":"true"})]})}),Object(m.jsxs)("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown",children:[Object(m.jsxs)(b.b,{to:"/dashboard/profile",className:"dropdown-item",children:[Object(m.jsx)("i",{className:"fa fa-user fa-sm fa-fw mr-2 text-gray-400"}),"Profil"]}),Object(m.jsxs)("a",{className:"dropdown-item",href:"#",children:[Object(m.jsx)("i",{className:"fa fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"Param\xe9tres"]}),Object(m.jsx)(de,{className:"dropdown-item",icon:Object(m.jsx)("i",{className:"fa fa-list fa-sm fa-fw mr-2 text-gray-400"})})]})]})]})]})}}]),a}(s.Component),Fe=Object(V.b)((function(e){return{auth:e.auth}}),null)(Ve),Ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={value:s.props.value,title:s.props.title,icon:"fa fa-calendar fa-2x text-gray-300",color:"primary",cardClass:"",titleClass:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({cardClass:"card border-left-".concat(this.props.color," shadow h-100 py-2")}),this.setState({icon:"fa fa-".concat(this.props.icon," fa-2x text-gray-300")}),this.setState({titleClass:"text-xs font-weight-bold text-".concat(this.props.color," text-uppercase mb-1")})}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(m.jsx)("div",{className:this.state.cardClass,children:Object(m.jsx)("div",{className:"card-body",children:Object(m.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(m.jsxs)("div",{className:"col mr-2",children:[Object(m.jsx)("div",{className:this.state.titleClass,children:this.props.title}),Object(m.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:this.state.value})]}),Object(m.jsx)("div",{className:"col-auto",children:Object(m.jsx)("i",{className:this.state.icon})})]})})})})}}]),a}(s.Component),Ge=(a(211),a(144)),He=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={title:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({title:this.props.title?this.props.title:"Basic Card Example"})}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"card shadow mb-4",children:[Object(m.jsx)("div",{className:"card-header py-3",children:Object(m.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:this.state.title})}),Object(m.jsx)("div",{className:"card-body",children:this.props.children})]})}}]),a}(s.Component),ze=(s.Component,a(43));ze.a.defaults.font.family="Nunito",ze.a.defaults.font.color="#858796";s.Component;var Xe=function(e){var t=e.title,a=void 0===t?"":t;return Object(m.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:Object(m.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:a})})},Ye=a(977),qe=a(145),Je=function(e){var t=[];e.info.map((function(e){t.push(e)}));var a={columns:[{label:"CIN",field:"cin",width:150,attributes:{"aria-controls":"DataTable","aria-label":"CIN"}},{label:"Nom",field:"last_name",width:50},{label:"Pr\xe9nom",field:"first_name",width:50},{label:"date_nais",field:"date_nais",width:200},{label:"Adresse",field:"address",width:100},{label:"Email",field:"email",width:150},{label:"Ills",field:"ills",width:100},{label:"Date_creation",field:"created_at",width:100},{label:"Priority",field:"priority",width:100},{label:"Rendez_vous",field:"call_date",width:100}],rows:t};return Object(m.jsx)(qe.c,{striped:!0,bordered:!0,order:["created_at","asc"],hover:!0,data:a})},We=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).toggle=function(){e.setState({modal:!e.state.modal})},e.state={modal:!1,id:null,first_name:"",last_name:"",email:""},e.onSubmit=e.onSubmit.bind(Object(me.a)(e)),e.onChange=e.onChange.bind(Object(me.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({id:this.props.users._id,first_name:this.props.users.first_name,last_name:this.props.users.last_name,email:this.props.users.email})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={first_name:this.state.first_name,last_name:this.state.last_name,email:this.state.email};I.a.put("http://localhost:4000/auth/update/"+this.state.id,t).then((function(e){return window.location.pathname="/dashboard"}))}},{key:"onChange",value:function(e){this.setState(Object(J.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(ne.a,{color:"primary",style:{height:"10vh"},onClick:this.toggle,children:"Edit User"}),Object(m.jsxs)(K.a,{isOpen:this.state.modal,toggle:this.toggle,children:[Object(m.jsxs)($.a,{toggle:this.toggle,children:["Edit User: ",Object(m.jsxs)("b",{children:[this.props.users.last_name," ",this.props.users.first_name]})]}),Object(m.jsx)(Q.a,{children:Object(m.jsx)(ee.a,{onSubmit:this.onSubmit,children:Object(m.jsxs)(te.a,{children:[Object(m.jsx)(ae.a,{for:"name",children:"Nom"}),Object(m.jsx)(se.a,{type:"text",name:"last_name",value:this.state.last_name,id:"last_name",placeholder:"Nom",className:"mb-3",onChange:this.onChange}),Object(m.jsx)(ae.a,{for:"name",children:"Pr\xe9nom"}),Object(m.jsx)(se.a,{type:"text",name:"first_name",id:"first_name",value:this.state.first_name,placeholder:"Pr\xe9nom",className:"mb-3",onChange:this.onChange}),Object(m.jsx)(ae.a,{for:"email",children:"Email"}),Object(m.jsx)(se.a,{type:"email",name:"email",id:"email",value:this.state.email,placeholder:"Email",className:"mb-3",onChange:this.onChange}),Object(m.jsx)(ne.a,{color:"primary",type:"submit",style:{marginTop:"2rem"},block:!0,children:"Register"})]})})})]})]})}}]),a}(s.Component),Ke=function(e){var t=[];e.info.map((function(a){a.action=Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:"btn btn-danger",onClick:function(){e.delete(a._id)},children:"Delete"})}),t.push(a)}));var a={columns:[{label:"Nom",field:"last_name",width:70,attributes:{"aria-controls":"DataTable","aria-label":"first_name"}},{label:"Pr\xe9nom",field:"first_name",width:50},{label:"Email",field:"email",width:50},{label:"Date de Creation",field:"register_date",width:50},{label:"Action",field:"action"}],rows:t};return Object(m.jsx)(qe.c,{striped:!0,bordered:!0,hover:!0,data:a})},$e=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleDelete=function(e){s.props.deletePatient(e)},s.handleDate=s.handleDate.bind(Object(me.a)(s)),s.state={NOP:null,NOU:null,allRecords:[],status:{stats:!0},users:[],dataR:[],nextDate:"",smallestDate:String},s.handleDelete=s.handleDelete.bind(Object(me.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPosts(),this.fetchData(),this.handleDate()}},{key:"fetchData",value:function(){var e=this;I.a.get("http://localhost:4000/enroll/").then((function(t){return t.data.map((function(a){e.setState({NOP:Object.keys(t.data).length,allRecords:t.data,dataR:t.data})}))})),I.a.get("http://localhost:4000/auth/").then((function(t){return t.data.map((function(a){e.setState({NOU:Object.keys(t.data).length,users:t.data})}))}))}},{key:"handleDate",value:function(){(new Date).toISOString();var e=this.state.allRecords;e.sort((function(e,t){return e.created_at-t.created_at}));var t=(new Date).toISOString();e.map((function(e){e.created_at<t&&!1===e.status.stats&&(t=e.created_at)}));var a=new Date(new Date(t).getFullYear(),new Date(t).getMonth(),new Date(t).getDate()+7).toDateString();if(a===(new Date).toDateString()){var s=this.state.allRecords.sort((function(e,t){return e.priority-t.priority})),n=[];s.map((function(e){!1===e.status.stats&&n.push(e)})),n.length>10&&(n=s.slice(Math.max(n.length-10)));var c={stats:!0};n.map((function(e){var t={id:e._id,cin:e.cin,first_name:e.first_name,last_name:e.last_name,date_nais:e.date_nais,address:e.address,email:e.email,status:c,call_date:Object(F.getNextDayOfTheWeek)().toISOString()};I.a.put("http://localhost:4000/dashboard/"+t.id,t).then((function(e){return console.log(e.data)}))})),a=new Date(new Date(t).getFullYear(),new Date(t).getMonth(),new Date(t).getDate()+7).toDateString()}else this.setState({nextDate:new Date(new Date(t).getFullYear(),new Date(t).getMonth(),new Date(t).getDate()+7).toDateString()})}},{key:"render",value:function(){return window.onload=this.handleDate,Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Ye.a,{className:"mb-4",children:[Object(m.jsxs)(Z.a,{color:"success",style:{width:"21vw"},children:["Les dates seront fix\xe9es le: ",Object(m.jsx)("b",{children:this.state.nextDate})," "]}),Object(m.jsxs)("div",{className:"card-header",children:[Object(m.jsx)("i",{className:"fa fa-table mr-1"}),"Informations sur les patients (",null!=this.state.NOP?this.state.NOP:0,"):"]}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsx)("div",{className:"table-responsive",children:Object(m.jsx)(Je,{info:this.state.allRecords})})})]}),Object(m.jsxs)(Ye.a,{className:"mb-4",children:[Object(m.jsxs)("div",{className:"card-header",children:[Object(m.jsx)("i",{className:"fa fa-table mr-1"}),"Informations sur les utilisateurs (",this.state.NOU,"):"]}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsx)("div",{className:"table-responsive",children:Object(m.jsx)(Ke,{delete:this.handleDelete,info:this.state.users})})})]})]})}}]),a}(s.Component),Qe=Object(V.b)((function(e){return{posts:e.posts.items}}),{fetchPosts:M,deletePatient:function(e){return function(t){I.a.delete("http://localhost:4000/users/"+e).then((function(a){t({type:O,payload:e})})).then((function(){return window.location.reload()})).catch((function(e){return console.log(e)}))}}})($e),Ze=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={auth:!0,chartData:{}},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&"No Authorization"===t.msg.msg&&(window.location.pathname="/")}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{id:"wrapper",children:[Object(m.jsx)(Le,{}),Object(m.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(m.jsxs)("div",{id:"content",children:[Object(m.jsx)(Fe,{}),Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(Xe,{title:"Dashboard"}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)(Ue,{title:"Date",icon:"calendar",color:"primary",value:(new Date).toDateString().replace(/\s+/g,", ")}),Object(m.jsx)(Ue,{title:"Percentage des personnes inscrit % non inscrit",icon:"calendar",color:"success",value:Object(F.patientsVaccinatedPerNon)(this.props.posts).toString().substr(0,7)+"%"}),Object(m.jsx)(Ue,{title:"Utilisateurs avec un date allou\xe9",icon:"clipboard",color:"info",value:Object(F.countAccepted)(this.props.posts)}),Object(m.jsx)(Ue,{title:"Utilisateurs en attente",icon:"comments",color:"warning",value:Object(F.countPending)(this.props.posts)})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(He,{title:"Statistiques de vaccination",children:Object(m.jsx)(Ge.a,{data:{labels:["Accept\xe9","En Attente"],datasets:[{label:"Statistiques de vaccination",backgroundColor:["rgba(75, 192, 192)","rgba(255, 206, 86)"],data:[Object(F.countAccepted)(this.props.posts),Object(F.countPending)(this.props.posts)]}]},options:{legend:{display:!0}}})})}),Object(m.jsx)("div",{className:"row",style:{marginBottom:"2%"},children:Object(m.jsxs)("div",{className:"col-xl",children:[Object(m.jsx)("a",{href:"/signup",className:"btn btn-success",role:"button",children:"Cr\xe9e un compte Admin"}),Object(m.jsx)("a",{href:"/enroll",style:{marginLeft:"1vw"},className:"btn btn-primary",role:"button",children:"Inscription"})]})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-xl-12",children:Object(m.jsx)(Qe,{})})})]})]}),Object(m.jsx)("footer",{className:"sticky-footer bg-white",children:Object(m.jsx)("div",{className:"container my-auto",children:Object(m.jsx)("div",{className:"copyright text-center my-auto",children:Object(m.jsx)("span",{children:"Copyright \xa9 EVAX 2019"})})})})]})]}),Object(m.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(m.jsx)("i",{className:"fa fa-angle-up"})})]})}}]),a}(s.Component),et=Object(V.b)((function(e){return{posts:e.posts.items,error:e.error,auth:e.auth}}),{fetchPosts:M,clearErrors:R})(Ze),tt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{id:"content",children:Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("div",{className:"error mx-auto","data-text":"404",children:"404"}),Object(m.jsx)("p",{className:"lead text-gray-800 mb-5",children:"Page Not Found"}),Object(m.jsx)("p",{className:"text-gray-500 mb-0",children:"It looks like you found a glitch in the matrix..."}),Object(m.jsx)(b.b,{to:"/",children:"\u2190 Back to main"})]})})})}}]),a}(s.Component),at=(Object(h.f)(tt),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={title:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({title:this.props.title?this.props.title:"Default Card Example"})}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"card mb-4",children:[Object(m.jsx)("div",{className:"card-header",children:this.state.title}),Object(m.jsx)("div",{className:"card-body",children:this.props.children})]})}}]),a}(s.Component)),st=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={title:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({title:this.props.title?this.props.title:"Basic Card Example"}),this.setState({body:this.props.body?this.props.body:"This is a collapsable card example using Bootstrap's built in collapse functionality. <strong>Click on the card header</strong> to see the card body collapse and expand!"})}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"card shadow mb-4",children:[Object(m.jsx)("a",{href:"#collapseCardExample",className:"d-block card-header py-3","data-toggle":"collapse",role:"button","aria-expanded":"true","aria-controls":"collapseCardExample",children:Object(m.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:this.state.title})}),Object(m.jsx)("div",{className:"collapse show",id:"collapseCardExample",children:Object(m.jsx)("div",{className:"card-body",children:this.props.children})})]})}}]),a}(s.Component),nt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={title:""},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({title:this.props.title?this.props.title:"Card"})}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"card shadow mb-4",children:[Object(m.jsxs)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:[Object(m.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:this.state.title}),Object(m.jsxs)("div",{className:"dropdown no-arrow",children:[Object(m.jsx)("a",{className:"dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(m.jsx)("i",{className:"fas fa-ellipsis-v fa-sm fa-fw text-gray-400"})}),Object(m.jsxs)("div",{className:"dropdown-menu dropdown-menu-right shadow animated--fade-in","aria-labelledby":"dropdownMenuLink",children:[Object(m.jsx)("div",{className:"dropdown-header",children:"Dropdown Header:"}),Object(m.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(m.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"}),Object(m.jsx)("div",{className:"dropdown-divider"}),Object(m.jsx)("a",{className:"dropdown-item",href:"#",children:"Something else here"})]})]})]}),Object(m.jsx)("div",{className:"card-body",children:this.props.children})]})}}]),a}(s.Component),ct=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{id:"wrapper",children:[Object(m.jsx)(Le,{}),Object(m.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(m.jsxs)("div",{id:"content",children:[Object(m.jsx)(Fe,{}),Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(Xe,{title:"Cards"}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)(Ue,{title:"Earnings (Monthly)",icon:"calendar",color:"primary",value:"$40,000"}),Object(m.jsx)(Ue,{title:"Earnings (Annual)",icon:"calendar",color:"success",value:"215,000"}),Object(m.jsx)(Ue,{title:"Tasks",icon:"clipboard",color:"info",value:"50%"}),Object(m.jsx)(Ue,{title:"Pending Requests",icon:"comments",color:"warning",value:"18"})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{class:"col-lg-6",children:Object(m.jsx)(at,{title:"Card Default Example",children:"This card uses Bootstrap's default styling with no utility classes added. Global styles are the only things modifying the look and feel of this default card example."})}),Object(m.jsx)("div",{class:"col-lg-6",children:Object(m.jsx)(nt,{title:"Card Dropdown Example",children:"Dropdown menus can be placed in the card header in order to extend the functionality of a basic card. In this dropdown card example, the Font Awesome vertical ellipsis icon in the card header can be clicked on in order to toggle a dropdown menu."})})]}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{class:"col-lg-6",children:Object(m.jsx)(He,{title:"Card Basic Example",children:"The styling for this basic card example is created by using default Bootstrap utility classes. By using utility classes, the style of the card component can be easily modified with no need for any custom CSS!"})}),Object(m.jsx)("div",{class:"col-lg-6",children:Object(m.jsxs)(st,{title:"Card Collapse Example",children:["This is a collapsable card example using Bootstrap's built in collapse functionality. ",Object(m.jsx)("strong",{children:"Click on the card header"})," to see the card body collapse and expand!"]})})]})]})]})})]})})}}]),a}(s.Component),rt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{id:"wrapper",children:[Object(m.jsx)(Le,{}),Object(m.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(m.jsxs)("div",{id:"content",children:[Object(m.jsx)(Fe,{}),Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)(Xe,{title:"Charts"})})]})})]})})}}]),a}(s.Component),it=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)("footer",{className:L.a.mainFooter,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"copyright text-center my-auto",style:{color:"white",paddingTop:"3vh"},children:Object(m.jsx)("span",{children:"Copyright \xa9 EVAX 2021"})})})})}}]),a}(s.Component),ot=a.p+"static/media/user.a8759827.png",lt=(a(837),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t,a=this.props.auth.user;return Object(m.jsxs)("div",{className:"row",style:{background:"rgb(0,0,0,0.2)",width:"35vw",padding:"2rem"},children:[Object(m.jsx)("div",(e={className:"col"},Object(J.a)(e,"className",L.a.userImage),Object(J.a)(e,"children",Object(m.jsx)("img",{src:ot,alt:"test"})),e)),Object(m.jsxs)("div",(t={className:"col"},Object(J.a)(t,"className",L.a.userBack),Object(J.a)(t,"children",[Object(m.jsxs)("h5",{children:["Nom: ",a?a.last_name:""," "]}),Object(m.jsxs)("h5",{children:["Pr\xe9nom: ",a?a.first_name:""]}),Object(m.jsxs)("h5",{children:["Email: ",a?a.email:""]})]),t)),Object(m.jsx)("div",{className:"col",children:Object(m.jsx)(We,{users:a||""})})]})}}]),a}(s.Component)),dt=Object(V.b)((function(e){return{auth:e.auth}}),null)(lt),ht=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={auth:!0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&"No Authorization"===t.msg.msg&&(window.location.pathname="/")}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{id:"wrapper",children:[Object(m.jsx)(Le,{}),Object(m.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(m.jsxs)("div",{id:"content",children:[Object(m.jsx)(Fe,{}),Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(Xe,{title:"Dashboard"}),Object(m.jsx)(dt,{})]})]}),Object(m.jsx)("footer",{className:"sticky-footer bg-white",children:Object(m.jsx)("div",{className:"container my-auto",children:Object(m.jsx)("div",{className:"copyright text-center my-auto",children:Object(m.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(m.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(m.jsx)("i",{className:"fa fa-angle-up"})})]})}}]),a}(s.Component),jt=Object(V.b)((function(e){return{posts:e.posts.items,error:e.error,auth:e.auth}}),{fetchPosts:M,clearErrors:R})(ht),bt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){Ie.dispatch((function(e,t){e({type:g});var a=t().auth.token,s={headers:{"content-type":"application/json"}};a&&(s.headers["x-auth-token"]=a),I.a.get("http://localhost:4000/auth/user",s).then((function(t){return e({type:v,payload:t.data})})).catch((function(t){e(P(t.response.data,t.response.status)),e({type:y})}))}))}},{key:"render",value:function(){return Object(m.jsx)(V.a,{store:Ie,children:Object(m.jsx)(b.a,{children:Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{path:"/dashboard",exact:!0,component:et}),Object(m.jsx)(h.a,{path:"/dashboard/profile",exact:!0,component:jt}),Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)(je,{}),Object(m.jsx)(h.a,{path:"/",exact:!0,component:G}),Object(m.jsx)(h.a,{path:"/signin",exact:!0,component:oe}),Object(m.jsx)(h.a,{path:"/signup",exact:!0,component:Re}),Object(m.jsx)(h.a,{path:"/enroll",exact:!0,component:xe}),Object(m.jsx)(h.a,{path:"/verify",exact:!0,component:Ne}),Object(m.jsx)(h.a,{path:"/cards",component:ct}),Object(m.jsx)(h.a,{path:"/charts",component:rt}),Object(m.jsx)(it,{})]})]})})})}}]),a}(s.Component);a(954),a(955),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(m.jsx)(bt,{}),document.getElementById("root"))}},[[956,1,2]]]);
//# sourceMappingURL=main.265a2cbe.chunk.js.map